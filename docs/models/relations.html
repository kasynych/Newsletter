
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<title>Newsletters: Documentation</title>

<link rel="stylesheet" type="text/css" media="all" href="../styles.css" />

<script type="text/javascript" src="../js/nav.js"></script>
<script type="text/javascript" src="../js/prototype.lite.js"></script>
<script type="text/javascript" src="../js/moo.fx.js"></script>
<script type="text/javascript" src="../js/user_guide_menu.js"></script>

</head>
<body>

<!-- START NAVIGATION -->
<div id="nav" style="overflow-x: hidden; overflow-y: hidden; height: 0px; "><div id="nav_inner">
	<table cellpadding="0" cellspaceing="0" border="0" style="width:98%">
		<tbody>
			<tr>
	<td class="td_sep" valign="top"><h3>Models Reference</h3><ul><li><a href="../models/admin.html">Admin</a></li><li><a href="../models/delivery.html">Delivery</a></li><li><a href="../models/newsletters_attachments.html">Newsletters Attachments</a></li><li><a href="../models/newsletters_groups.html">Newsletters Groups</a></li><li><a href="../models/newsletters.html">Newsletters</a></li><li><a href="../models/relations.html">Relations</a></li><li><a href="../models/schedules.html">Schedules</a></li><li><a href="../models/settings.html">Settings</a></li><li><a href="../models/statistics.html">Statistics</a></li><li><a href="../models/subscribers_groups.html">Subscribers Groups</a></li><li><a href="../models/subscribers.html">Subscribers</a></li><li><a href="../models/templates.html">Tempaltes</a></li><li><a href="../models/my_records.html">My Records</a></li></ul></td></tr></tbody></table></div></div>
<div id="nav2"><a name="top"></a><a href="javascript:void(0);" onclick="myHeight.toggle();"><img src="../images/nav_toggle_darker.jpg" width="154" height="43" border="0" title="Toggle Table of Contents" alt="Toggle Table of Contents"></a></div>
<div id="masthead">
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td><h1>Newsletters</h1></td>
</tr>
</table>
</div>
<!-- END NAVIGATION -->


<!-- START BREADCRUMB -->
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td id="breadcrumb">
Relations
</td>
</tr>
</table>
<!-- END BREADCRUMB -->

<br clear="all" />


<!-- START CONTENT -->
<div id="content">


<h1>Relations (extends my_records)</h1>

<p>This methods stands for operation with tables of relations(subscribers_groups_rel,newsletter_groups_rel etc)</p>

<h2>Methods</h2>

<h3>$this->model_relations->setRelations($table1,$table2)</h3>
<p>Sets attributes $this->table1 and $this->table2(these could be models, but I found enough to make the of type array).(see attributes description below)</p>
<code>
	$this->load->model('model_relations');</br>
	$this->model_relations->setTable('subscribers_groups_rel');// calling this method not from constructor, because this model stands for all n-m relations in db</br>
	$this->model_relations->setRelations('subscribers','subscribers_groups');
</code>

<h3>$this->model_relations->edit($data1,$data2)</h3>
<p>This method makes updates in table of relations. One of parameters must be array another one must be numeric, no matter which one.<br>
First parameter corresponds first parameter of setRelations() method, the second parameter corresponds the second parameter of setRelations() method.</p>
<code>
	$this->load->model('model_relations');</br>
	$this->model_relations->setTable('subscribers_groups_rel');</br>
	$this->model_relations->setRelations('subscribers','subscribers_groups');</br>
	$this->model_relations->edit(5,array(31,16)); // removes all relations for subscriber with subscriber_id=5 <br>//and sets relations with groups with group_id=31 and group_id=16	
</code>

<h3>$this->model_relations->add($data1,$data2)</h3>
<p>TAnalogous to edit() method, it just does not remove existing relations</p>
<code>
	$this->load->model('model_relations');</br>
	$this->model_relations->setTable('subscribers_groups_rel');</br>
	$this->model_relations->setRelations('subscribers_groups,'subscribers');</br>
	$this->model_relations->add(array(8,9),7); // sets relations between subscriber (subscriber_id=7) with groups with group_id=8 and group_id=9	
</code>



<h2>Attributes</h2>
<ul>
	<li>table1 = array('primary_key'=>NULL,'name'=>NULL)</li>
	<li>table2 = array('primary_key'=>NULL,'name'=>NULL)</li>
</ul>

</div>
<!-- END CONTENT -->

</body>
</html>